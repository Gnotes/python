# è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨

> ç¤ºä¾‹ï¼šexample/day02

## è¿­ä»£å™¨

> è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯ä»¥ `è®°ä½` éå†çš„ `ä½ç½®` çš„å¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªåŸºæœ¬çš„æ–¹æ³•ï¼š`iter()` å’Œ `next()`ã€‚

```py
list = [1, 2, 3, 4]
it = iter(list)    # åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡
print (next(it))   # è¾“å‡ºè¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
print (next(it))
```

## ç”Ÿæˆå™¨

> åœ¨ Python ä¸­ï¼Œä½¿ç”¨äº† `yield` çš„å‡½æ•°è¢«ç§°ä¸ºç”Ÿæˆå™¨ `generator`ï¼Œè¿™ä¸€ç‚¹å’Œ `es6` ä¸­çš„æ¦‚å¿µä¸€ä¸ªæ„æ€ğŸ˜€ã€‚

> è·Ÿæ™®é€šå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œ`ç”Ÿæˆå™¨` æ˜¯ä¸€ä¸ª `è¿”å›è¿­ä»£å™¨` çš„ `å‡½æ•°` ï¼Œåªèƒ½ç”¨äºè¿­ä»£æ“ä½œï¼Œä¸ªäººç†è§£ä¸ºï¼š`ç”Ÿæˆå™¨å‡½æ•°ï¼Œæ‰§è¡Œåè¿”å›çš„ç»“æœï¼Œå°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨`ã€‚

åœ¨è°ƒç”¨ç”Ÿæˆå™¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡é‡åˆ° `yield` æ—¶å‡½æ•°ä¼š`æš‚åœ` å¹¶ ä¿å­˜å½“å‰æ‰€æœ‰çš„è¿è¡Œä¿¡æ¯ï¼Œè¿”å› `yield` çš„ `å€¼`, å¹¶åœ¨ä¸‹ä¸€æ¬¡æ‰§è¡Œ `next()` æ–¹æ³•æ—¶ä»å½“å‰ä½ç½®ç»§ç»­è¿è¡Œã€‚

> è°ƒç”¨ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡

```py
import sys

def fibonacci(n):  # ç”Ÿæˆå™¨å‡½æ•° - æ–æ³¢é‚£å¥‘
    a, b, counter = 0, 1, 0
    while True:
        if (counter > n):
            return
        yield a
        a, b = b, a + b
        counter += 1


f = fibonacci(10)  # f æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”±ç”Ÿæˆå™¨è¿”å›ç”Ÿæˆï¼Œåªæœ‰åœ¨è¿­ä»£çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œç”Ÿæˆå™¨é‡Œè¾¹çš„è¯­å¥

while True:
    try:
        print (next(f), end=" ")
    except StopIteration:
        sys.exit()
```

## å‚è€ƒ

- [èœé¸Ÿ - è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨](http://www.runoob.com/python3/python3-iterator-generator.html)